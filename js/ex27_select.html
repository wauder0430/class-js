<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        
    </style>
</head>
<body>
    <!-- ex27_select.html -->
    <h1>셀렉트 박스</h1>
    
    <select name="sel1" multiple size="5">
        <option value="f1">사과</option>
        <option value="f2">귤</option>
        <option value="f3">파인애플</option>
        <option value="f4">망고</option>
        <option value="f5">포도</option>
    </select>
    <hr>

    <input type="button" value="버튼1" name="btn1">
    <input type="button" value="버튼2" name="btn2">
    <input type="button" value="버튼3" name="btn3">
    <input type="button" value="버튼4" name="btn4">
    <input type="button" value="버튼5" name="btn5">

    <script>
        var sel1 = document.all['sel1'];

        document.all['btn1'].onclick = m1;
        document.all['btn2'].onclick = m2;
        document.all['btn3'].onclick = m3;
        document.all['btn4'].onclick = m4;
        document.all['btn5'].onclick = m5;

        function m1() {
            // 사용자의 선택?
            // alert(sel1.value);

            sel1.value = 'f2';
        }
        function m2() {
            // 선택한 <option>의 index?
            // alert(sel1.selectedIndex);

            sel1.selectedIndex = 2;
        }
        function m3() {
            // 동적으로 <option> 생성하기
            // -<option value="f6">딸기</option>

            // 동일한 <option> 추가 > 방지
            for(var i=0; i<sel1.options.length; i++){
                //alert(sel1.options[i].text);
                if(sel1.options[i].text == '딸기' && sel1.options[i].value == 'f6'){
                    return;
                }
            }
            
            var op = new Option();      // <option></option>
            op.value = 'f6';            // <option value='f6'></option>
            op.text = '딸기';           // <option value='f6'>딸기</option>

            sel1.options.add(op);        // 동적으로 옵션태그붙이기

        }
        function m4() {
            //<option> 삭제하기 > index shift 발생
            //sel1.options.remove(index);
            //sel1.options.remove(0);
            // while(sel1.options.length>0){
            //     sel1.options.remove(0);
            // }
            //sel1.options.remove(사용자가 선택한 index);
            sel1.options.remove(sel1.selectedIndex);
        }
        function m5() {
            // 다중 선택
            //alert(sel1.value);
            
            // for(var i=0; i<sel1.options.length; i++){
            //     //alert(sel1.options[i].selected);
            //     if(sel1.options[i].selected){
            //         alert(sel1.options[i].value);
            //     }
            // }

            // 쓰기
            // sel1.value = 'f1';

            sel1.options[0].selected = true;
            sel1.options[2].selected = true;
            sel1.options[4].selected = true;
        }
        
    </script>
</body>
</html>